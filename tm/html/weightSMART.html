<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: SMART Weightings</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for weightSMART {tm}"><tr><td>weightSMART {tm}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>SMART Weightings</h2>

<h3>Description</h3>

<p>Weight a term-document matrix according to a combination of weights
specified in SMART notation.
</p>


<h3>Usage</h3>

<pre>
weightSMART(m, spec = "nnn", control = list())
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>m</code></td>
<td>
<p>A <code><a href="matrix.html">TermDocumentMatrix</a></code> in term frequency format.</p>
</td></tr>
<tr valign="top"><td><code>spec</code></td>
<td>
<p>a character string consisting of three characters. The first letter
specifies a term frequency schema, the second a document frequency
schema, and the third a normalization schema. See <b>Details</b> for
available built-in schemata.</p>
</td></tr>
<tr valign="top"><td><code>control</code></td>
<td>
<p>a list of control parameters. See <b>Details</b>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Formally this function is of class <code>WeightingFunction</code> with the
additional attributes <code>name</code> and <code>acronym</code>.
</p>
<p>The first letter of <code>spec</code> specifies a weighting schema for term
frequencies of <code>m</code>:
</p>

<dl>
<dt>&quot;n&quot;</dt><dd><p>(natural) <i>\mathit{tf}_{i,j}</i> counts the number of occurrences
<i>n_{i,j}</i> of a term <i>t_i</i> in a document <i>d_j</i>. The
input term-document matrix <code>m</code> is assumed to be in this
standard term frequency format already.</p>
</dd>
<dt>&quot;l&quot;</dt><dd><p>(logarithm) is defined as <i>1 + \log_2(\mathit{tf}_{i,j})</i>.</p>
</dd>
<dt>&quot;a&quot;</dt><dd><p>(augmented) is defined as <i>0.5 +
      \frac{0.5 * \mathit{tf}_{i,j}}{\max_i(\mathit{tf}_{i,j})}</i>.</p>
</dd>
<dt>&quot;b&quot;</dt><dd><p>(boolean) is defined as 1 if <i>\mathit{tf}_{i,j} &gt; 0</i> and 0 otherwise.</p>
</dd>
<dt>&quot;L&quot;</dt><dd><p>(log average) is defined as <i>\frac{1 +
      \log_2(\mathit{tf}_{i,j})}{1+\log_2(\mathrm{ave}_{i\in j}(\mathit{tf}_{i,j}))}</i>.</p>
</dd>
</dl>

<p>The second letter of <code>spec</code> specifies a weighting schema of
document frequencies for <code>m</code>:
</p>

<dl>
<dt>&quot;n&quot;</dt><dd><p>(no) is defined as 1.</p>
</dd>
<dt>&quot;t&quot;</dt><dd><p>(idf) is defined as <i>\log_2 \frac{N}{\mathit{df}_t}</i> where
<i>\mathit{df}_t</i> denotes how often term <i>t</i> occurs in all
documents.</p>
</dd>
<dt>&quot;p&quot;</dt><dd><p>(prob idf) is defined as <i>\max(0, \log_2(\frac{N - \mathit{df}_t}{\mathit{df}_t}))</i>.</p>
</dd>
</dl>

<p>The third letter of <code>spec</code> specifies a schema for normalization
of <code>m</code>:
</p>

<dl>
<dt>&quot;n&quot;</dt><dd><p>(none) is defined as 1.</p>
</dd>
<dt>&quot;c&quot;</dt><dd><p>(cosine) is defined as <i>&radic;{\mathrm{col\_sums}(m ^ 2)}</i>.</p>
</dd>
<dt>&quot;u&quot;</dt><dd><p>(pivoted unique) is defined as <i>\mathit{slope} *
      &radic;{\mathrm{col\_sums}(m ^ 2)} + (1 - \mathit{slope}) *
      \mathit{pivot}</i> where both <code>slope</code> and <code>pivot</code> must be set
via named tags in the <code>control</code> list.</p>
</dd>
<dt>&quot;b&quot;</dt><dd><p>(byte size) is defined as
<i>\frac{1}{\mathit{CharLength}^&alpha;}</i>. The parameter
<i>&alpha;</i> must be set via the named tag <code>alpha</code>
in the <code>control</code> list.</p>
</dd>
</dl>

<p>The final result is defined by multiplication of the chosen term
frequency component with the chosen document frequency component with
the chosen normalization component.
</p>


<h3>Value</h3>

<p>The weighted matrix.
</p>


<h3>References</h3>

<p>Christopher D. Manning and Prabhakar Raghavan and Hinrich Sch√ºtze (2008).
<em>Introduction to Information Retrieval</em>.
Cambridge University Press, ISBN 0521865719.
</p>


<h3>Examples</h3>

<pre>
data("crude")
TermDocumentMatrix(crude,
                   control = list(removePunctuation = TRUE,
                                  stopwords = TRUE,
                                  weighting = function(x)
                                  weightSMART(x, spec = "ntc")))
</pre>

<hr /><div style="text-align: center;">[Package <em>tm</em> version 0.7-5 <a href="00Index.html">Index</a>]</div>
</body></html>
