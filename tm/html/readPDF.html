<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Read In a PDF Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for readPDF {tm}"><tr><td>readPDF {tm}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Read In a PDF Document</h2>

<h3>Description</h3>

<p>Return a function which reads in a portable document format (<acronym><span class="acronym">PDF</span></acronym>)
document extracting both its text and its metadata.
</p>


<h3>Usage</h3>

<pre>
readPDF(engine = c("pdftools", "xpdf", "Rpoppler",
                   "ghostscript", "Rcampdf", "custom"),
        control = list(info = NULL, text = NULL))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>engine</code></td>
<td>
<p>a character string for the preferred <acronym><span class="acronym">PDF</span></acronym> extraction
engine (see <b>Details</b>).</p>
</td></tr>
<tr valign="top"><td><code>control</code></td>
<td>
<p>a list of control options for the engine with the named
components <code>info</code> and <code>text</code> (see <b>Details</b>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Formally this function is a function generator, i.e., it returns a function
(which reads in a text document) with a well-defined signature, but can access
passed over arguments (e.g., the preferred <acronym><span class="acronym">PDF</span></acronym> extraction
<code>engine</code> and <code>control</code> options) via lexical scoping.
</p>
<p>Available <acronym><span class="acronym">PDF</span></acronym> extraction engines are as follows.
</p>

<dl>
<dt><code>"pdftools"</code></dt><dd><p>(default) Poppler <acronym><span class="acronym">PDF</span></acronym> rendering library
as provided by the functions <code><a href="../../pdftools/html/pdf_info.html">pdf_info</a></code> and
<code><a href="../../pdftools/html/pdf_text.html">pdf_text</a></code> in package <span class="pkg">pdftools</span>.</p>
</dd>
<dt><code>"xpdf"</code></dt><dd><p>command line <code>pdfinfo</code> and
<code>pdftotext</code> executables which must be installed and accessible on
your system. Suitable utilities are provided by the Xpdf
(<a href="http://www.foolabs.com/xpdf/">http://www.foolabs.com/xpdf/</a>) <acronym><span class="acronym">PDF</span></acronym> viewer or by the
Poppler (<a href="http://poppler.freedesktop.org/">http://poppler.freedesktop.org/</a>) <acronym><span class="acronym">PDF</span></acronym> rendering
library.</p>
</dd>
<dt><code>"Rpoppler"</code></dt><dd><p>Poppler <acronym><span class="acronym">PDF</span></acronym> rendering library as
provided by the functions <code><a href="../../Rpoppler/html/PDF_info.html">PDF_info</a></code> and
<code><a href="../../Rpoppler/html/PDF_text.html">PDF_text</a></code> in package <span class="pkg">Rpoppler</span>.</p>
</dd>
<dt><code>"ghostscript"</code></dt><dd><p>Ghostscript using &lsquo;<span class="file">pdf_info.ps</span>&rsquo; and
&lsquo;<span class="file">ps2ascii.ps</span>&rsquo;.</p>
</dd>
<dt><code>"Rcampdf"</code></dt><dd><p>Perl CAM::PDF <acronym><span class="acronym">PDF</span></acronym> manipulation library
as provided by the functions <code>pdf_info</code> and <code>pdf_text</code>
in package <span class="pkg">Rcampdf</span>, available from the repository at
<a href="http://datacube.wu.ac.at">http://datacube.wu.ac.at</a>.</p>
</dd>
<dt><code>"custom"</code></dt><dd><p>custom user-provided extraction engine.</p>
</dd>
</dl>

<p>Control parameters for engine <code>"xpdf"</code> are as follows.
</p>

<dl>
<dt><code>info</code></dt><dd><p>a character vector specifying options passed over to
the <code>pdfinfo</code> executable.</p>
</dd>
<dt><code>text</code></dt><dd><p>a character vector specifying options passed over to
the <code>pdftotext</code> executable.</p>
</dd>
</dl>

<p>Control parameters for engine <code>"custom"</code> are as follows.
</p>

<dl>
<dt><code>info</code></dt><dd><p>a function extracting metadata from a <acronym><span class="acronym">PDF</span></acronym>.
The function must accept a file path as first argument and must return a
named list with the components <code>Author</code> (as character string),
<code>CreationDate</code> (of class <code>POSIXlt</code>), <code>Subject</code> (as
character string), <code>Title</code> (as character string), and <code>Creator</code>
(as character string).</p>
</dd>
<dt><code>text</code></dt><dd><p>a function extracting content from a <acronym><span class="acronym">PDF</span></acronym>.
The function must accept a file path as first argument and must return a
character vector.</p>
</dd>
</dl>



<h3>Value</h3>

<p>A <code>function</code> with the following formals:
</p>

<dl>
<dt><code>elem</code></dt><dd><p>a named list with the component <code>uri</code> which must
hold a valid file name.</p>
</dd>
<dt><code>language</code></dt><dd><p>a string giving the language.</p>
</dd>
<dt><code>id</code></dt><dd><p>Not used.</p>
</dd>
</dl>

<p>The function returns a <code><a href="PlainTextDocument.html">PlainTextDocument</a></code> representing the text
and metadata extracted from <code>elem$uri</code>.
</p>


<h3>See Also</h3>

<p><code><a href="Reader.html">Reader</a></code> for basic information on the reader infrastructure
employed by package <span class="pkg">tm</span>.
</p>


<h3>Examples</h3>

<pre>
uri &lt;- sprintf("file://%s",
               system.file(file.path("doc", "tm.pdf"), package = "tm"))
engine &lt;- if(nzchar(system.file(package = "pdftools"))) {
    "pdftools" 
} else {
    "ghostscript"
}
reader &lt;- readPDF(engine)
pdf &lt;- reader(elem = list(uri = uri), language = "en", id = "id1")
cat(content(pdf)[1])
VCorpus(URISource(uri, mode = ""),
        readerControl = list(reader = readPDF(engine = "ghostscript")))
</pre>

<hr /><div style="text-align: center;">[Package <em>tm</em> version 0.7-5 <a href="00Index.html">Index</a>]</div>
</body></html>
