<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Term-Document Matrix</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for TermDocumentMatrix {tm}"><tr><td>TermDocumentMatrix {tm}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Term-Document Matrix</h2>

<h3>Description</h3>

<p>Constructs or coerces to a term-document matrix or a document-term matrix.
</p>


<h3>Usage</h3>

<pre>
TermDocumentMatrix(x, control = list())
DocumentTermMatrix(x, control = list())
as.TermDocumentMatrix(x, ...)
as.DocumentTermMatrix(x, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>a corpus for the constructors and either a term-document
matrix or a document-term matrix or a <a href="../../slam/html/matrix.html">simple
triplet matrix</a> (package <span class="pkg">slam</span>) or a <a href="termFreq.html">term
frequency vector</a> for the coercing functions.</p>
</td></tr>
<tr valign="top"><td><code>control</code></td>
<td>
<p>a named list of control options. There are local
options which are evaluated for each document and global options
which are evaluated once for the constructed matrix. Available local
options are documented in <code><a href="termFreq.html">termFreq</a></code> and are internally
delegated to a <code><a href="termFreq.html">termFreq</a></code> call.
</p>
<p>This is different for a <code><a href="SimpleCorpus.html">SimpleCorpus</a></code>. In this case all
options are processed in a fixed order in one pass to improve performance.
It always uses the Boost (<a href="http://www.boost.org">http://www.boost.org</a>) Tokenizer (via
<span class="pkg">Rcpp</span>) and takes no custom functions as option arguments.
</p>
<p>Available global options are:
</p>

<dl>
<dt><code>bounds</code></dt><dd><p>A list with a tag <code>global</code> whose value
must be an integer vector of length 2. Terms that appear in less
documents than the lower bound <code>bounds$global[1]</code> or in
more documents than the upper bound <code>bounds$global[2]</code> are
discarded. Defaults to <code>list(global = c(1, Inf))</code> (i.e., every
term will be used).</p>
</dd>
<dt><code>weighting</code></dt><dd><p>A weighting function capable of handling a
<code>TermDocumentMatrix</code>. It defaults to <code>weightTf</code> for term
frequency weighting. Available weighting functions shipped with
the <span class="pkg">tm</span> package are <code><a href="weightTf.html">weightTf</a></code>,
<code><a href="weightTfIdf.html">weightTfIdf</a></code>, <code><a href="weightBin.html">weightBin</a></code>, and
<code><a href="weightSMART.html">weightSMART</a></code>.</p>
</dd>
</dl>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>the additional argument <code>weighting</code> (typically a
<code><a href="WeightFunction.html">WeightFunction</a></code>) is allowed when coercing a
simple triplet matrix to a term-document or document-term matrix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>TermDocumentMatrix</code> or class
<code>DocumentTermMatrix</code> (both inheriting from a
<a href="../../slam/html/matrix.html">simple triplet matrix</a> in package <span class="pkg">slam</span>)
containing a sparse term-document matrix or document-term matrix. The
attribute <code>weighting</code> contains the weighting applied to the
matrix.
</p>


<h3>See Also</h3>

<p><code><a href="termFreq.html">termFreq</a></code> for available local control options.
</p>


<h3>Examples</h3>

<pre>
data("crude")
tdm &lt;- TermDocumentMatrix(crude,
                          control = list(removePunctuation = TRUE,
                                         stopwords = TRUE))
dtm &lt;- DocumentTermMatrix(crude,
                          control = list(weighting =
                                         function(x)
                                         weightTfIdf(x, normalize =
                                                     FALSE),
                                         stopwords = TRUE))
inspect(tdm[202:205, 1:5])
inspect(tdm[c("price", "prices", "texas"), c("127", "144", "191", "194")])
inspect(dtm[1:5, 273:276])

s &lt;- SimpleCorpus(VectorSource(unlist(lapply(crude, as.character))))
m &lt;- TermDocumentMatrix(s,
                        control = list(removeNumbers = TRUE,
                                       stopwords = TRUE,
                                       stemming = TRUE))
inspect(m[c("price", "texa"), c("127", "144", "191", "194")])
</pre>

<hr /><div style="text-align: center;">[Package <em>tm</em> version 0.7-5 <a href="00Index.html">Index</a>]</div>
</body></html>
