<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: HTTP client</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for HttpClient {crul}"><tr><td>HttpClient {crul}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>HTTP client</h2>

<h3>Description</h3>

<p>HTTP client
</p>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>url</code></td>
<td>
<p>(character) A url. One of <code>url</code> or <code>handle</code> required.</p>
</td></tr>
<tr valign="top"><td><code>opts</code></td>
<td>
<p>(list) curl options, a named list. See
<code><a href="../../curl/html/curl_options.html">curl_options</a></code> for available curl options</p>
</td></tr>
<tr valign="top"><td><code>proxies</code></td>
<td>
<p>an object of class <code>proxy</code>, as returned from the
<code><a href="proxies.html">proxy</a></code> function. Supports one proxy for now</p>
</td></tr>
<tr valign="top"><td><code>headers</code></td>
<td>
<p>(list) a named list of headers</p>
</td></tr>
<tr valign="top"><td><code>handle</code></td>
<td>
<p>A handle, see <code><a href="handle.html">handle</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Methods</strong>
</p>

<dl>
<dt><code>get(path, query, disk, stream, ...)</code></dt><dd>
<p>Make a GET request
</p>
</dd>
<dt><code>post(path, query, body, disk, stream, ...)</code></dt><dd>
<p>Make a POST request
</p>
</dd>
<dt><code>put(path, query, body, disk, stream, ...)</code></dt><dd>
<p>Make a PUT request
</p>
</dd>
<dt><code>patch(path, query, body, disk, stream, ...)</code></dt><dd>
<p>Make a PATCH request
</p>
</dd>
<dt><code>delete(path, query, body, disk, stream, ...)</code></dt><dd>
<p>Make a DELETE request
</p>
</dd>
<dt><code>head(path, query, ...)</code></dt><dd>
<p>Make a HEAD request
</p>
</dd>
</dl>

<p>Possible parameters (not all are allowed in each HTTP verb):
</p>

<ul>
<li><p> path - URL path, appended to the base URL
</p>
</li>
<li><p> query - query terms, as a named list
</p>
</li>
<li><p> body - body as an R list
</p>
</li>
<li><p> encode - one of form, multipart, json, or raw
</p>
</li>
<li><p> disk - a path to write to. if NULL (default), memory used.
See <code><a href="../../curl/html/curl_fetch_disk.html">curl::curl_fetch_disk()</a></code> for help.
</p>
</li>
<li><p> stream - an R function to determine how to stream data. if
NULL (default), memory used. See <code><a href="../../curl/html/curl_fetch_stream.html">curl::curl_fetch_stream()</a></code>
for help
</p>
</li>
<li><p> ... curl options, only those in the acceptable set from
<code><a href="../../curl/html/curl_options.html">curl::curl_options()</a></code> except the following: httpget, httppost,
post, postfields, postfieldsize, and customrequest
</p>
</li></ul>



<h3>handles</h3>

<p>curl handles are re-used on the level of the connection object, that is,
each <code>HttpClient</code> object is separate from one another so as to better
separate connections.
</p>


<h3>See Also</h3>

<p><a href="post-requests.html">post-requests</a>, <a href="delete-requests.html">delete-requests</a>, <a href="http-headers.html">http-headers</a>,
<a href="writing-options.html">writing-options</a>, <a href="cookies.html">cookies</a>
</p>


<h3>Examples</h3>

<pre>
(x &lt;- HttpClient$new(url = "https://httpbin.org"))
x$url
(res_get1 &lt;- x$get('get'))
res_get1$content
res_get1$response_headers
res_get1$parse()

(res_get2 &lt;- x$get('get', query = list(hello = "world")))
res_get2$parse()
library("jsonlite")
jsonlite::fromJSON(res_get2$parse())

# post request
(res_post &lt;- x$post('post', body = list(hello = "world")))

## empty body request
x$post('post')

# put request
(res_put &lt;- x$put('put'))

# delete request
(res_delete &lt;- x$delete('delete'))

# patch request
(res_patch &lt;- x$patch('patch'))

# head request
(res_head &lt;- x$head())

# query params are URL encoded for you, so DO NOT do it yourself
## if you url encode yourself, it gets double encoded, and that's bad
(x &lt;- HttpClient$new(url = "https://httpbin.org"))
res &lt;- x$get("get", query = list(a = 'hello world'))
</pre>

<hr /><div style="text-align: center;">[Package <em>crul</em> version 0.5.0 <a href="00Index.html">Index</a>]</div>
</body></html>
