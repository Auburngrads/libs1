<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Verify output</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for verify_output {testthat}"><tr><td>verify_output {testthat}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Verify output</h2>

<h3>Description</h3>

<p>This is a regression test records interwoven code and output into a file,
similar to Rmd. It's designed particularly for testing print methods and
error messages, where the primary goal is to ensure that the output is
helpful to a human. Obviously, there's no way to test that automatically,
so the best we can do is make the results explicit by saving to a text file.
This makes the presentation easier to see in code reviews, and avoids
changing it accidentally.
</p>


<h3>Usage</h3>

<pre>
verify_output(path, code, width = 80, crayon = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>path</code></td>
<td>
<p>Path to save file. Typically this will be a call to
<code><a href="test_path.html">test_path()</a></code> so that the same path when the code is run interactively.</p>
</td></tr>
<tr valign="top"><td><code>code</code></td>
<td>
<p>Code to execute.</p>
</td></tr>
<tr valign="top"><td><code>width</code></td>
<td>
<p>Width of console output</p>
</td></tr>
<tr valign="top"><td><code>crayon</code></td>
<td>
<p>Enable crayon package colouring?</p>
</td></tr>
</table>


<h3>CRAN</h3>

<p>On CRAN, <code>verify_output()</code> will not fail if the output changes. This is
beause tests of print methods and error messages are often fragile due to
implicit dependencies on other packages, and failure does not imply
incorrect computation, just a change in presentation.
</p>


<h3>Differences to Rmd</h3>

<p><code>verify_output()</code> can only capture the abstract syntax tree, losing all
whitespace and comments. To mildy offset this limitation, bare string
are turned into comments.
</p>

<hr /><div style="text-align: center;">[Package <em>testthat</em> version 2.2.1 <a href="00Index.html">Index</a>]</div>
</body></html>
