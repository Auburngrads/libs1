<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Classes &quot;mpfrMatrix&quot; and &quot;mpfrArray&quot;</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for mpfrMatrix {Rmpfr}"><tr><td>mpfrMatrix {Rmpfr}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Classes &quot;mpfrMatrix&quot; and &quot;mpfrArray&quot;</h2>

<h3>Description</h3>

<p>The classes <code>"mpfrMatrix"</code> and <code>"mpfrArray"</code> are,
analogously to the <span class="pkg">base</span> <code><a href="../../base/html/matrix.html">matrix</a></code> and <code><a href="../../base/html/array.html">array</a></code>
functions and classes simply &ldquo;numbers&rdquo; of class
<code><a href="mpfr-class.html">mpfr</a></code> with an additional <code>Dim</code> and
<code>Dimnames</code> slot.
</p>


<h3>Objects from the Class</h3>

<p>Objects should typically be created by <code><a href="mpfrArray.html">mpfrArray</a>()</code>, but
can also be created by
<code>new("mpfrMatrix", ...)</code> or <code>new("mpfrArray", ...)</code>, or also
by <code>t(x)</code>, <code>dim(x) &lt;- dd</code>, or <code><a href="mpfr-utils.html">mpfr2array</a>(x,
    dim=dd)</code> where <code>x</code> is a an <code><a href="mpfr-class.html">mpfr</a></code>
&ldquo;number vector&rdquo;.
</p>
<p>A (slightly more flexible) alternative to <code>dim(x) &lt;- dd</code> is
<code><a href="mpfr-utils.html">mpfr2array</a>(x, dd, dimnames)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>.Data</code>:</dt><dd><p>as for the <code><a href="mpfr-class.html">mpfr</a></code> class, a
<code>"list"</code> of  <code><a href="mpfr-class.html">mpfr1</a></code> numbers.</p>
</dd>
<dt><code>Dim</code>:</dt><dd><p>of class <code>"integer"</code>, specifying the array
dimension.</p>
</dd>
<dt><code>Dimnames</code>:</dt><dd><p>of class <code>"list"</code> and the same length
as <code>Dim</code>, each list component either <code><a href="../../base/html/NULL.html">NULL</a></code> or a
<code><a href="../../base/html/character.html">character</a></code> vector of length <code>Dim[j]</code>.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"mpfrMatrix"</code> extends <code>"mpfrArray"</code>, directly.
</p>
<p>Class <code>"mpfrArray"</code> extends
class <code>"<a href="mpfr-class.html">mpfr</a>"</code>, by class &quot;mpfrArray&quot;, distance 2;
class <code>"<a href="../../methods/html/BasicClasses.html">list</a>"</code>, by class &quot;mpfrArray&quot;, distance 3;
class <code>"<a href="../../methods/html/BasicClasses.html">vector</a>"</code>, by class &quot;mpfrArray&quot;, distance 4.
</p>


<h3>Methods</h3>


<dl>
<dt>Arith</dt><dd><p><code>signature(e1 = "mpfr", e2 = "mpfrArray")</code>: ... </p>
</dd>
<dt>Arith</dt><dd><p><code>signature(e1 = "numeric", e2 = "mpfrArray")</code>: ... </p>
</dd>
<dt>Arith</dt><dd><p><code>signature(e1 = "mpfrArray", e2 = "mpfrArray")</code>: ... </p>
</dd>
<dt>Arith</dt><dd><p><code>signature(e1 = "mpfrArray", e2 = "mpfr")</code>: ... </p>
</dd>
<dt>Arith</dt><dd><p><code>signature(e1 = "mpfrArray", e2 = "numeric")</code>: ... </p>
</dd>
<dt>as.vector</dt><dd><p><code>signature(x = "mpfrArray", mode =
	"missing")</code>: drops the dimension &lsquo;attribute&rsquo;, i.e.,
transforms <code>x</code> into a simple <code><a href="mpfr-class.html">mpfr</a></code>
vector.  This is an inverse of <code>t(.)</code> or <code>dim(.) &lt;- *</code>
on such a vector.</p>
</dd>
<dt>atan2</dt><dd><p><code>signature(y = "ANY", x = "mpfrArray")</code>: ... </p>
</dd>
<dt>atan2</dt><dd><p><code>signature(y = "mpfrArray", x = "mpfrArray")</code>: ... </p>
</dd>
<dt>atan2</dt><dd><p><code>signature(y = "mpfrArray", x = "ANY")</code>: ... </p>
</dd>
<dt>[&lt;-</dt><dd><p><code>signature(x = "mpfrArray", i = "ANY", j = "ANY", value = "ANY")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "mpfrArray", i = "ANY", j = "ANY", drop = "ANY")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "mpfrArray", i = "ANY", j = "missing", drop = "missing")</code>:
<code>"mpfrArray"</code>s can be subset (&ldquo;indexed&rdquo;) as regular <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>
<code><a href="../../base/html/array.html">array</a></code>s.</p>
</dd>
<dt>%*%</dt><dd><p><code>signature(x = "mpfr", y = "mpfrMatrix")</code>: Compute
the matrix/vector product <i>x y</i> when the dimensions
(<code><a href="../../base/html/dim.html">dim</a></code>) of <code>x</code> and <code>y</code> match.  If <code>x</code>
is not a matrix, it is treated as a 1-row or 1-column matrix (aka
&ldquo;row vector&rdquo; or &ldquo;column vector&rdquo;) depending on which
one makes sense, see the documentation of the <span class="pkg">base</span>
function <code><a href="../../base/html/matmult.html">%*%</a></code>.</p>
</dd>
<dt>%*%</dt><dd><p><code>signature(x = "mpfr", y = "Mnumber")</code>: method
definition for cases with one <code><a href="mpfr-class.html">mpfr</a></code> and any
&ldquo;number-like&rdquo; argument are to use MPFR arithmetic as well.</p>
</dd>
<dt>%*%</dt><dd><p><code>signature(x = "mpfrMatrix", y = "mpfrMatrix")</code>,</p>
</dd>
<dt>%*%</dt><dd><p><code>signature(x = "mpfrMatrix", y = "mpfr")</code>, etc.
Further method definitions with identical semantic.</p>
</dd>
<dt>crossprod</dt><dd><p><code>signature(x = "mpfr", y = "missing")</code>:
Computes <i>x'x</i>, i.e., <code>t(x) %*% x</code>, typically more efficiently.</p>
</dd>
<dt>crossprod</dt><dd><p><code>signature(x = "mpfr", y = "mpfrMatrix")</code>:
Computes <i>x'y</i>, i.e., <code>t(x) %*% y</code>, typically more efficiently.</p>
</dd>
<dt>crossprod</dt><dd><p><code>signature(x = "mpfrMatrix", y = "mpfrMatrix")</code>: ... </p>
</dd>
<dt>crossprod</dt><dd><p><code>signature(x = "mpfrMatrix", y = "mpfr")</code>: ... </p>
</dd>
<dt>tcrossprod</dt><dd><p><code>signature(x = "mpfr", y = "missing")</code>:
Computes <i>xx'</i>, i.e., <code>x %*% t(x)</code>, typically more efficiently.</p>
</dd>
<dt>tcrossprod</dt><dd><p><code>signature(x = "mpfrMatrix", y = "mpfrMatrix")</code>:
Computes <i>xy'</i>, i.e., <code>x %*% t(y)</code>, typically more efficiently.</p>
</dd>
<dt>tcrossprod</dt><dd><p><code>signature(x = "mpfrMatrix", y = "mpfr")</code>: ... </p>
</dd>
<dt>tcrossprod</dt><dd><p><code>signature(x = "mpfr", y = "mpfrMatrix")</code>: ... </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "mpfrArray", to = "array")</code>:
coerces <code>from</code> to a <em>numeric</em> array of the same dimension.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "mpfrArray", to = "vector")</code>:
as for standard <code><a href="../../base/html/array.html">array</a></code>s, this &ldquo;drops&rdquo; the
<code>dim</code> (and <code>dimnames</code>), i.e., returns an
<code><a href="mpfr-class.html">mpfr</a></code> vector.</p>
</dd>
<dt>Compare</dt><dd><p><code>signature(e1 = "mpfr", e2 = "mpfrArray")</code>: ... </p>
</dd>
<dt>Compare</dt><dd><p><code>signature(e1 = "numeric", e2 = "mpfrArray")</code>: ... </p>
</dd>
<dt>Compare</dt><dd><p><code>signature(e1 = "mpfrArray", e2 = "mpfr")</code>: ... </p>
</dd>
<dt>Compare</dt><dd><p><code>signature(e1 = "mpfrArray", e2 = "numeric")</code>: ... </p>
</dd>
<dt>dim</dt><dd><p><code>signature(x = "mpfrArray")</code>: ... </p>
</dd>
<dt>dimnames&lt;-</dt><dd><p><code>signature(x = "mpfrArray")</code>: ... </p>
</dd>
<dt>dimnames</dt><dd><p><code>signature(x = "mpfrArray")</code>: ... </p>
</dd>
<dt>show</dt><dd><p><code>signature(object = "mpfrArray")</code>: ... </p>
</dd>
<dt>sign</dt><dd><p><code>signature(x = "mpfrArray")</code>: ... </p>
</dd>
<dt>norm</dt><dd><p><code>signature(x = "mpfrMatrix", type = "character")</code>:
computes the matrix norm of <code>x</code>, see <code><a href="../../base/html/norm.html">norm</a></code>
or the one in package <span class="pkg">Matrix</span>.</p>
</dd>
<dt>t</dt><dd><p><code>signature(x = "mpfrMatrix")</code>: tranpose the mpfrMatrix.</p>
</dd>
<dt>aperm</dt><dd><p><code>signature(a = "mpfrArray")</code>: <code>aperm(a,
	perm)</code> is a generalization of <code>t(.)</code> to <em>perm</em>ute the
dimensions of an mpfrArray; it has the same semantics as the
standard <code><a href="../../base/html/aperm.html">aperm</a>()</code> method for simple <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> <code><a href="../../base/html/array.html">array</a></code>s.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Martin Maechler</p>


<h3>See Also</h3>

<p><code><a href="mpfrArray.html">mpfrArray</a></code>, also for more examples.
</p>


<h3>Examples</h3>

<pre>
showClass("mpfrMatrix")

validObject(mm &lt;- new("mpfrMatrix"))
validObject(aa &lt;- new("mpfrArray"))

v6 &lt;- mpfr(1:6, 128)
m6 &lt;- new("mpfrMatrix", v6, Dim = c(2L, 3L))
validObject(m6)
m6
which(m6 == 3, arr.ind = TRUE) # |--&gt;  (1, 2)
## Coercion back to "vector": Both of these work:
stopifnot(identical(as(m6, "mpfr"), v6),
	  identical(as.vector(m6), v6)) # &lt; but this is a "coincidence"

S2 &lt;- m6[,-3] # 2 x 2
S3 &lt;- rbind(m6, c(1:2,10)) ; s3 &lt;- asNumeric(S3)
det(S2)
str(determinant(S2))
det(S3)
stopifnot(all.equal(det(S2), det(asNumeric(S2)), tol=1e-15),
	  all.equal(det(S3), det(s3), tol=1e-15))

## 2-column matrix indexing and replacement:
(sS &lt;- S3[i2 &lt;- cbind(1:2, 2:3)])
stopifnot(identical(asNumeric(sS), s3[i2]))
C3 &lt;- S3; c3 &lt;- s3
C3[i2] &lt;- 10:11
c3[i2] &lt;- 10:11
stopifnot(identical(asNumeric(C3), c3))

AA &lt;- new("mpfrArray", as.vector(cbind(S3, -S3)), Dim=c(3L,3:2))
stopifnot(identical(AA[,,1] , S3), identical(AA[,,2] , -S3))
aa &lt;- asNumeric(AA)

i3 &lt;- cbind(3:1, 1:3, c(2L, 1:2))
ii3 &lt;- Rmpfr:::.mat2ind(i3, dim(AA), dimnames(AA))
stopifnot(aa[i3] == new("mpfr", getD(AA)[ii3]))
stopifnot(identical(aa[i3], asNumeric(AA[i3])))
CA &lt;- AA; ca &lt;- aa
ca[i3] &lt;- ca[i3] ^ 3
CA[i3] &lt;- CA[i3] ^ 3

## scale():
S2. &lt;- scale(S2)
stopifnot(all.equal(abs(as.vector(S2.)), rep(sqrt(1/mpfr(2, 128)), 4),
		    tol = 1e-30))

## norm() :
norm(S2)
stopifnot(identical(norm(S2), norm(S2, "1")),
          norm(S2, "I") == 6,
          norm(S2, "M") == 4,
          abs(norm(S2, "F") - 5.477225575051661) &lt; 1e-15)
</pre>

<hr /><div style="text-align: center;">[Package <em>Rmpfr</em> version 0.8-2 <a href="00Index.html">Index</a>]</div>
</body></html>
