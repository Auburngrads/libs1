<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Graphical checks of the estimated survival function</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for ps_check {rstanarm}"><tr><td>ps_check {rstanarm}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Graphical checks of the estimated survival function</h2>

<h3>Description</h3>

<p>This function plots the estimated marginal survival function based on draws
from the posterior predictive distribution of the fitted joint model, and then 
overlays the Kaplan-Meier curve based on the observed data.
</p>


<h3>Usage</h3>

<pre>
ps_check(object, check = "survival", limits = c("ci", "none"),
  draws = NULL, seed = NULL, xlab = NULL, ylab = NULL,
  ci_geom_args = NULL, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p>A fitted model object returned by the 
<code><a href="stan_jm.html">stan_jm</a></code> modelling function. See 
<code><a href="stanreg-objects.html">stanreg-objects</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>check</code></td>
<td>
<p>The type of plot to show. Currently only &quot;survival&quot; is 
allowed, which compares the estimated marginal survival function under
the joint model to the estimated Kaplan-Meier curve based on the 
observed data.</p>
</td></tr>
<tr valign="top"><td><code>limits</code></td>
<td>
<p>A quoted character string specifying the type of limits to
include in the plot. Can be one of: <code>"ci"</code> for the Bayesian
posterior uncertainty interval (often known as a credible interval);
or <code>"none"</code> for no interval limits.</p>
</td></tr>
<tr valign="top"><td><code>draws</code></td>
<td>
<p>An integer indicating the number of MCMC draws to use to 
to estimate the survival function. The default and maximum number of 
draws is the size of the posterior sample.</p>
</td></tr>
<tr valign="top"><td><code>seed</code></td>
<td>
<p>An optional <code><a href="../../base/html/Random.html">seed</a></code> to use.</p>
</td></tr>
<tr valign="top"><td><code>xlab, ylab</code></td>
<td>
<p>An optional axis label passed to 
<code><a href="../../ggplot2/html/labs.html">labs</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>ci_geom_args</code></td>
<td>
<p>Optional arguments passed to 
<code><a href="../../ggplot2/html/geom_ribbon.html">geom_ribbon</a></code> and used to control features
of the plotted interval limits. They should be supplied as a named list.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Optional arguments passed to 
<code><a href="../../ggplot2/html/geom_line.html">geom_line</a></code> and used to control features
of the plotted trajectory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object that can be further customized using the
<span class="pkg">ggplot2</span> package.
</p>


<h3>See Also</h3>

<p><code><a href="posterior_survfit.html">posterior_survfit</a></code> for the estimated marginal or
subject-specific survival function based on draws of the model parameters
from the posterior distribution, 
<code><a href="posterior_predict.stanreg.html">posterior_predict</a></code> for drawing from the posterior 
predictive distribution for the longitudinal submodel, and 
<code><a href="pp_check.stanreg.html">pp_check</a></code> for graphical checks of the longitudinal submodel.
</p>


<h3>Examples</h3>

<pre>

if (!exists("example_jm")) example(example_jm)
# Compare estimated survival function to Kaplan-Meier curve
ps &lt;- ps_check(example_jm)
ps + 
 ggplot2::scale_color_manual(values = c("red", "black")) + # change colors
 ggplot2::scale_size_manual(values = c(0.5, 3)) + # change line sizes 
 ggplot2::scale_fill_manual(values = c(NA, NA)) # remove fill

</pre>

<hr /><div style="text-align: center;">[Package <em>rstanarm</em> version 2.17.3 <a href="00Index.html">Index</a>]</div>
</body></html>
