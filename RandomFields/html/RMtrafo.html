<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Transformation of coordinate systems</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for RMtrafo {RandomFields}"><tr><td>RMtrafo {RandomFields}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Transformation of coordinate systems</h2>

<h3>Description</h3>

<p>The functions transform a coordinate system into another coordinate system.
Currently, essentially only from the earth system to cartesian.
</p>
<p><code>RMtrafo</code> is the internal basic function that also allows
to reduce vectors to their norm.
</p>


<h3>Usage</h3>

<pre>

RMtrafo(phi, new)
RFearth2cartesian(coord, units=NULL, system="cartesian", grid=FALSE)
RFearth2dist(coord, units=NULL, system="cartesian", grid=FALSE, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>new</code></td>
<td>
<p>integer or character. One of the values
<code><a href="RC.html">RC_ISOTROPIC</a></code>,
<code><a href="RC.html">RC_SPACEISOTROPIC</a></code>,



<code><a href="RC.html">RC_CARTESIAN_COORD</a></code>,
<code><a href="RC.html">RC_GNOMONIC_PROJ</a></code>,
<code><a href="RC.html">RC_ORTHOGRAPHIC_PROJ</a></code>



</p>
<p>or the corresponding <code><a href="RC.html">RC_ISONAMES</a></code>.
</p>
<p>Note that <code>RMtrafo</code> only allows for integer values.
</p>
<p>Default: <code>RC_CARTESIAN_COORD</code>.
</p>
</td></tr>
<tr valign="top"><td><code>phi</code></td>
<td>
<p>optional submodel</p>
</td></tr>
<tr valign="top"><td><code>coord</code></td>
<td>
<p>matrix or vector of earth coordinates</p>
</td></tr>
<tr valign="top"><td><code>units</code></td>
<td>
<p>&quot;km&quot; or &quot;miles&quot;; if not given and 
<code>RFoptions()$general$units != ""</code>, the latter is used.
Otherwise <code>"km"</code>.
</p>
</td></tr>
<tr valign="top"><td><code>system</code></td>
<td>
<p>integer or character. The coordinate system, e.g.
<code>"cartesian"</code>, <code>"gnomonic"</code> or <code>"orthographic"</code>.
</p>
</td></tr>
<tr valign="top"><td><code>grid</code></td>
<td>
<p>logical. Whether the given coordinates are considered to
be on a grid given by <code>c(start, step, length)</code>.
</p>
<p>Default: <code>FALSE</code>.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>the optional arguments of <code><a href="../../stats/html/dist.html">dist</a></code>    
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions transform between different coordinate systems.
</p>


<h3>Value</h3>

<p>The function <code>RMtrafo</code> returns a matrix, in general. For
fixed column, 
the results, applied to each row of the matrix, are returned.
</p>
<p>The function <code>RFearth2cartesian</code> returns a matrix in
one-to-one correspondence with <code>coord</code> assuming that the
earth is an ellipsoid.
</p>
<p>The function <code>RFearth2dist</code> calculates distances, cf.
<code><a href="../../stats/html/dist.html">dist</a></code>, assuming that the
earth is an ellipsoid.
</p>


<h3>Note</h3>

<p>Important options are <code>units</code> and <code>coordinate_system</code>, see
<code><a href="RFoptions.html">RFoptions</a></code>.
</p>
<p>Note also that the zenit must be given explicitly for projection onto
a plane. See the examples below.
</p>


<h3>Author(s)</h3>

<p>Martin Schlather, <a href="mailto:schlather@math.uni-mannheim.de">schlather@math.uni-mannheim.de</a>, <a href="http://ms.math.uni-mannheim.de">http://ms.math.uni-mannheim.de</a></p>


<h3>References</h3>

<p>For calculating the earth coordinates as ellipsoid:
</p>

<ul>
<li> <p><a href="en.wikipedia.org/wiki/Geographic_coordinate_system">en.wikipedia.org/wiki/Geographic_coordinate_system</a>
</p>
</li>
<li> <p><a href="nssdc.gsfc.nasa.gov/planetary/factsheet/earthfact.html">nssdc.gsfc.nasa.gov/planetary/factsheet/earthfact.html</a>
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="RC.html">constants</a>,
<code><a href="RMangle.html">RMangle</a></code>,
<code><a href="RMid.html">RMid</a></code>,
<code><a href="RMidmodel.html">RMidmodel</a></code>.
</p>


<h3>Examples</h3>

<pre>
data(weather)
(coord &lt;- weather[1:5, 3:4])

(z &lt;- RFfctn(RMtrafo(new=RC_CARTESIAN_COORD), coord))
(z1 &lt;- RFearth2cartesian(coord)) ## equals z
z1 - z ## 0, i.e., z1 and t(z) are the same
dist(z)


(d &lt;- RFearth2dist(coord)) 
d - dist(z) ## 0, i.e., d and dist(z) are the same


## projection onto planes
RFoptions(zenit=c(-122,   47))
RFearth2cartesian(coord, system="gnomonic")
RFearth2cartesian(coord, system="orthographic")




</pre>

<hr /><div style="text-align: center;">[Package <em>RandomFields</em> version 3.3.6 <a href="00Index.html">Index</a>]</div>
</body></html>
